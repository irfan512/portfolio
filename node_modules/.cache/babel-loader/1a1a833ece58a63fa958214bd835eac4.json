{"ast":null,"code":"import _regeneratorRuntime from \"/Users/irfanhaider/Flutter Projects/portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"/Users/irfanhaider/Flutter Projects/portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/irfanhaider/Flutter Projects/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { store } from '../../store/store';\nimport { sendPost } from '../../api/sendPost';\nimport { buildOptions } from '../../utils/buildOptions/buildOptions';\nimport { validateParams } from '../../utils/validateParams/validateParams';\nimport { validateTemplateParams } from '../../utils/validateTemplateParams/validateTemplateParams';\nimport { isHeadless } from '../../utils/isHeadless/isHeadless';\nimport { headlessError } from '../../errors/headlessError/headlessError';\nimport { isBlockedValueInParams } from '../../utils/isBlockedValueInParams/isBlockedValueInParams';\nimport { blockedEmailError } from '../../errors/blockedEmailError/blockedEmailError';\nimport { isLimitRateHit } from '../../utils/isLimitRateHit/isLimitRateHit';\nimport { limitRateError } from '../../errors/limitRateError/limitRateError';\n/**\n * Send a template to the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {object} templateParams - the template params, what will be set to the EmailJS template\n * @param {object} options - the EmailJS SDK config options\n * @returns {Promise<EmailJSResponseStatus>}\n */\n\nexport var send = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(serviceID, templateID, templateParams, options) {\n    var opts, publicKey, blockHeadless, storageProvider, blockList, limitRate, params;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            opts = buildOptions(options);\n            publicKey = opts.publicKey || store.publicKey;\n            blockHeadless = opts.blockHeadless || store.blockHeadless;\n            storageProvider = opts.storageProvider || store.storageProvider;\n            blockList = _objectSpread(_objectSpread({}, store.blockList), opts.blockList);\n            limitRate = _objectSpread(_objectSpread({}, store.limitRate), opts.limitRate);\n\n            if (!(blockHeadless && isHeadless(navigator))) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(headlessError()));\n\n          case 8:\n            validateParams(publicKey, serviceID, templateID);\n            validateTemplateParams(templateParams);\n\n            if (!(templateParams && isBlockedValueInParams(blockList, templateParams))) {\n              _context.next = 12;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(blockedEmailError()));\n\n          case 12:\n            _context.next = 14;\n            return isLimitRateHit(location.pathname, limitRate, storageProvider);\n\n          case 14:\n            if (!_context.sent) {\n              _context.next = 16;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.reject(limitRateError()));\n\n          case 16:\n            params = {\n              lib_version: '4.4.1',\n              user_id: publicKey,\n              service_id: serviceID,\n              template_id: templateID,\n              template_params: templateParams\n            };\n            return _context.abrupt(\"return\", sendPost('/api/v1.0/email/send', JSON.stringify(params), {\n              'Content-type': 'application/json'\n            }));\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function send(_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["store","sendPost","buildOptions","validateParams","validateTemplateParams","isHeadless","headlessError","isBlockedValueInParams","blockedEmailError","isLimitRateHit","limitRateError","send","serviceID","templateID","templateParams","options","opts","publicKey","blockHeadless","storageProvider","blockList","limitRate","navigator","Promise","reject","location","pathname","params","lib_version","user_id","service_id","template_id","template_params","JSON","stringify"],"sources":["/Users/irfanhaider/Flutter Projects/portfolio/node_modules/@emailjs/browser/es/methods/send/send.js"],"sourcesContent":["import { store } from '../../store/store';\nimport { sendPost } from '../../api/sendPost';\nimport { buildOptions } from '../../utils/buildOptions/buildOptions';\nimport { validateParams } from '../../utils/validateParams/validateParams';\nimport { validateTemplateParams } from '../../utils/validateTemplateParams/validateTemplateParams';\nimport { isHeadless } from '../../utils/isHeadless/isHeadless';\nimport { headlessError } from '../../errors/headlessError/headlessError';\nimport { isBlockedValueInParams } from '../../utils/isBlockedValueInParams/isBlockedValueInParams';\nimport { blockedEmailError } from '../../errors/blockedEmailError/blockedEmailError';\nimport { isLimitRateHit } from '../../utils/isLimitRateHit/isLimitRateHit';\nimport { limitRateError } from '../../errors/limitRateError/limitRateError';\n/**\n * Send a template to the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {object} templateParams - the template params, what will be set to the EmailJS template\n * @param {object} options - the EmailJS SDK config options\n * @returns {Promise<EmailJSResponseStatus>}\n */\nexport const send = async (serviceID, templateID, templateParams, options) => {\n    const opts = buildOptions(options);\n    const publicKey = opts.publicKey || store.publicKey;\n    const blockHeadless = opts.blockHeadless || store.blockHeadless;\n    const storageProvider = opts.storageProvider || store.storageProvider;\n    const blockList = { ...store.blockList, ...opts.blockList };\n    const limitRate = { ...store.limitRate, ...opts.limitRate };\n    if (blockHeadless && isHeadless(navigator)) {\n        return Promise.reject(headlessError());\n    }\n    validateParams(publicKey, serviceID, templateID);\n    validateTemplateParams(templateParams);\n    if (templateParams && isBlockedValueInParams(blockList, templateParams)) {\n        return Promise.reject(blockedEmailError());\n    }\n    if (await isLimitRateHit(location.pathname, limitRate, storageProvider)) {\n        return Promise.reject(limitRateError());\n    }\n    const params = {\n        lib_version: '4.4.1',\n        user_id: publicKey,\n        service_id: serviceID,\n        template_id: templateID,\n        template_params: templateParams,\n    };\n    return sendPost('/api/v1.0/email/send', JSON.stringify(params), {\n        'Content-type': 'application/json',\n    });\n};\n"],"mappings":";;;AAAA,SAASA,KAAT,QAAsB,mBAAtB;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,SAASC,YAAT,QAA6B,uCAA7B;AACA,SAASC,cAAT,QAA+B,2CAA/B;AACA,SAASC,sBAAT,QAAuC,2DAAvC;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,SAASC,aAAT,QAA8B,0CAA9B;AACA,SAASC,sBAAT,QAAuC,2DAAvC;AACA,SAASC,iBAAT,QAAkC,kDAAlC;AACA,SAASC,cAAT,QAA+B,2CAA/B;AACA,SAASC,cAAT,QAA+B,4CAA/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,IAAI;EAAA,sEAAG,iBAAOC,SAAP,EAAkBC,UAAlB,EAA8BC,cAA9B,EAA8CC,OAA9C;IAAA;IAAA;MAAA;QAAA;UAAA;YACVC,IADU,GACHd,YAAY,CAACa,OAAD,CADT;YAEVE,SAFU,GAEED,IAAI,CAACC,SAAL,IAAkBjB,KAAK,CAACiB,SAF1B;YAGVC,aAHU,GAGMF,IAAI,CAACE,aAAL,IAAsBlB,KAAK,CAACkB,aAHlC;YAIVC,eAJU,GAIQH,IAAI,CAACG,eAAL,IAAwBnB,KAAK,CAACmB,eAJtC;YAKVC,SALU,mCAKOpB,KAAK,CAACoB,SALb,GAK2BJ,IAAI,CAACI,SALhC;YAMVC,SANU,mCAMOrB,KAAK,CAACqB,SANb,GAM2BL,IAAI,CAACK,SANhC;;YAAA,MAOZH,aAAa,IAAIb,UAAU,CAACiB,SAAD,CAPf;cAAA;cAAA;YAAA;;YAAA,iCAQLC,OAAO,CAACC,MAAR,CAAelB,aAAa,EAA5B,CARK;;UAAA;YAUhBH,cAAc,CAACc,SAAD,EAAYL,SAAZ,EAAuBC,UAAvB,CAAd;YACAT,sBAAsB,CAACU,cAAD,CAAtB;;YAXgB,MAYZA,cAAc,IAAIP,sBAAsB,CAACa,SAAD,EAAYN,cAAZ,CAZ5B;cAAA;cAAA;YAAA;;YAAA,iCAaLS,OAAO,CAACC,MAAR,CAAehB,iBAAiB,EAAhC,CAbK;;UAAA;YAAA;YAAA,OAeNC,cAAc,CAACgB,QAAQ,CAACC,QAAV,EAAoBL,SAApB,EAA+BF,eAA/B,CAfR;;UAAA;YAAA;cAAA;cAAA;YAAA;;YAAA,iCAgBLI,OAAO,CAACC,MAAR,CAAed,cAAc,EAA7B,CAhBK;;UAAA;YAkBViB,MAlBU,GAkBD;cACXC,WAAW,EAAE,OADF;cAEXC,OAAO,EAAEZ,SAFE;cAGXa,UAAU,EAAElB,SAHD;cAIXmB,WAAW,EAAElB,UAJF;cAKXmB,eAAe,EAAElB;YALN,CAlBC;YAAA,iCAyBTb,QAAQ,CAAC,sBAAD,EAAyBgC,IAAI,CAACC,SAAL,CAAeP,MAAf,CAAzB,EAAiD;cAC5D,gBAAgB;YAD4C,CAAjD,CAzBC;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAJhB,IAAI;IAAA;EAAA;AAAA,GAAV"},"metadata":{},"sourceType":"module"}